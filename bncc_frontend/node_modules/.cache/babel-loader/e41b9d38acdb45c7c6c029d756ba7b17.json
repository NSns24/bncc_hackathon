{"ast":null,"code":"import _slicedToArray from \"/Users/ns/Code/bncc_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ns/Code/bncc_frontend/src/containers/MyVenue/VenueInformation/VenueInformation.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Select, Spin, Button, Input, TimePicker } from \"antd\";\nimport { connect } from \"react-redux\";\nimport styles from './VenueInformation.module.css';\nimport axios from \"../../../axios\";\nimport * as actions from \"../../../store/actions/index\";\nimport moment from 'moment';\nconst format = 'HH:mm';\nconst TextArea = Input.TextArea;\nconst Option = Select.Option;\n\nfunction VenueInformation({\n  user,\n  onSubmit\n}) {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        fetching = _useState4[0],\n        setFetching = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        value = _useState6[0],\n        setValue = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        facilityValue = _useState8[0],\n        setFacilityValue = _useState8[1];\n\n  const _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        facilities = _useState10[0],\n        setFacility = _useState10[1];\n\n  const fetchSports = value => {\n    setFetching(true);\n    const data = {\n      name: value\n    };\n    axios.post('/sport/search', data).then(res => {\n      setData(res.data.sports);\n      setFetching(false);\n    });\n  };\n\n  const fetchFacility = value => {\n    setFetching(true);\n    const data = {\n      name: value\n    };\n    axios.post('/facility/search', data).then(res => {\n      setFacility(res.data.facilities);\n      setFetching(false);\n    });\n  };\n\n  useEffect(() => {\n    fetchSports('');\n    fetchFacility('');\n  }, []);\n\n  const submitHandler = async () => {\n    await value.forEach(async item => {\n      const data = {\n        userSportMapping: {\n          userId: user.id,\n          sportId: +item.key\n        }\n      };\n      await axios.post('/user/sport/mapping/upsert', data);\n    });\n    onSubmit();\n  };\n\n  const changeHandler = value => {\n    setValue(value);\n    setData([]);\n    setFetching(false);\n  };\n\n  const changeHandlerFacility = value => {\n    setFacilityValue(value);\n    setFacility([]);\n    setFetching(false);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.form_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Venue Name\"), React.createElement(Input, {\n    className: styles.form_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.form_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Venue Address\"), React.createElement(Input, {\n    className: styles.form_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.form_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Venue Description\"), React.createElement(TextArea, {\n    rows: 4,\n    className: styles.form_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.form_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"Which Sport does the venue accomodate ?\"), React.createElement(Select, {\n    mode: \"multiple\",\n    labelInValue: true,\n    value: value,\n    placeholder: \"Select Sports\",\n    notFoundContent: fetching ? React.createElement(Spin, {\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }) : null,\n    filterOption: false,\n    onSearch: fetchSports,\n    className: styles.form_select,\n    onChange: changeHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, data.map(d => React.createElement(Option, {\n    key: d.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, d.name)))), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.form_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"What Facility does your venue offer ?\"), React.createElement(Select, {\n    mode: \"multiple\",\n    labelInValue: true,\n    value: facilityValue,\n    placeholder: \"Select Facility\",\n    notFoundContent: fetching ? React.createElement(Spin, {\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }) : null,\n    filterOption: false,\n    onSearch: fetchFacility,\n    className: styles.form_select,\n    onChange: changeHandlerFacility,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, facilities.map(d => React.createElement(Option, {\n    key: d.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, d.name)))), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.form_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, \"Set your venue opening hours\"), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"Monday\"), React.createElement(TimePicker, {\n    defaultValue: moment('09:00', format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment('20:00', format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"Tuesday\"), React.createElement(TimePicker, {\n    defaultValue: moment('09:00', format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment('20:00', format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, \"Wednesday\"), React.createElement(TimePicker, {\n    defaultValue: moment('09:00', format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment('20:00', format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, \"Thursday\"), React.createElement(TimePicker, {\n    defaultValue: moment('09:00', format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment('20:00', format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, \"Friday\"), React.createElement(TimePicker, {\n    defaultValue: moment('09:00', format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment('20:00', format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, \"Saturday\"), React.createElement(TimePicker, {\n    defaultValue: moment('09:00', format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment('20:00', format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, \"Sunday\"), React.createElement(TimePicker, {\n    defaultValue: moment('09:00', format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment('20:00', format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"primary\",\n    onClick: submitHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, \"Submit\")));\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.authReducer.user\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSubmit: () => dispatch(actions.updateCurrPref())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VenueInformation);","map":{"version":3,"sources":["/Users/ns/Code/bncc_frontend/src/containers/MyVenue/VenueInformation/VenueInformation.js"],"names":["React","useState","useEffect","Select","Spin","Button","Input","TimePicker","connect","styles","axios","actions","moment","format","TextArea","Option","VenueInformation","user","onSubmit","data","setData","fetching","setFetching","value","setValue","facilityValue","setFacilityValue","facilities","setFacility","fetchSports","name","post","then","res","sports","fetchFacility","submitHandler","forEach","item","userSportMapping","userId","id","sportId","key","changeHandler","changeHandlerFacility","form_item","form_label","form_input","form_select","map","d","form_row","form_row_label","form_row_input","mapStateToProps","state","authReducer","mapDispatchToProps","dispatch","updateCurrPref"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Select, Spin, Button, Input, TimePicker } from \"antd\";\nimport { connect } from \"react-redux\";\nimport styles from './VenueInformation.module.css';\nimport axios from \"../../../axios\";\nimport * as actions from \"../../../store/actions/index\";\nimport moment from 'moment';\n\nconst format = 'HH:mm';\nconst { TextArea } = Input;\nconst { Option } = Select;\n\nfunction VenueInformation({ user, onSubmit }) {\n    const [data, setData] = useState([]);\n    const [fetching, setFetching] = useState(false);\n    const [value, setValue] = useState([]);\n    const [facilityValue, setFacilityValue] = useState([]);\n    const [facilities, setFacility] = useState([]);\n\n    const fetchSports = value => {\n        setFetching(true);\n        const data = {\n            name: value\n        }\n\n        axios.post('/sport/search', data).then(res => {\n            setData(res.data.sports);\n            setFetching(false);\n        });\n    };\n\n    const fetchFacility = value => { \n        setFetching(true);\n        const data = {\n            name: value\n        }\n\n        axios.post('/facility/search', data).then(res => {\n            setFacility(res.data.facilities);\n            setFetching(false);\n        });\n    }\n\n    useEffect(() => {\n        fetchSports('');\n        fetchFacility('');\n    }, []);\n\n    const submitHandler = async () => {\n        await value.forEach(async (item) => {\n            const data = {\n                userSportMapping: {\n                    userId: user.id,\n                    sportId: +item.key\n                }\n            }\n\n            await axios.post('/user/sport/mapping/upsert', data);\n        });\n\n        onSubmit();\n    }\n\n    const changeHandler = value => {\n        setValue(value);\n        setData([]);\n        setFetching(false);\n    };\n\n    const changeHandlerFacility = value => {\n        setFacilityValue(value);\n        setFacility([]);\n        setFetching(false);\n    }\n\n    return (\n        <>\n            <div className={styles.form_item}>\n                <div className={styles.form_label}>Venue Name</div>\n                <Input className={styles.form_input} />\n            </div>\n            <div className={styles.form_item}>\n                <div className={styles.form_label}>Venue Address</div>\n                <Input className={styles.form_input} />\n            </div>\n            <div className={styles.form_item}>\n                <div className={styles.form_label}>Venue Description</div>\n                <TextArea rows={4} className={styles.form_input}/>\n            </div>\n            <div className={styles.form_item}>\n                <div className={styles.form_label}>Which Sport does the venue accomodate ?</div>\n                <Select\n                    mode=\"multiple\"\n                    labelInValue\n                    value={value}\n                    placeholder=\"Select Sports\"\n                    notFoundContent={fetching ? <Spin size=\"small\" /> : null}\n                    filterOption={false}\n                    onSearch={fetchSports}\n                    className={styles.form_select}\n                    onChange={changeHandler}\n                >\n                    {data.map(d => (\n                        <Option key={d.id}>{d.name}</Option>\n                    ))}\n                </Select>\n            </div>\n            <div className={styles.form_item}>\n                <div className={styles.form_label}>What Facility does your venue offer ?</div>\n                <Select\n                    mode=\"multiple\"\n                    labelInValue\n                    value={facilityValue}\n                    placeholder=\"Select Facility\"\n                    notFoundContent={fetching ? <Spin size=\"small\" /> : null}\n                    filterOption={false}\n                    onSearch={fetchFacility}\n                    className={styles.form_select}\n                    onChange={changeHandlerFacility}\n                >\n                    {facilities.map(d => (\n                        <Option key={d.id}>{d.name}</Option>\n                    ))}\n                </Select>\n            </div>    \n            <div className={styles.form_item}>\n                <div className={styles.form_label}>Set your venue opening hours</div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Monday</span>\n                    <TimePicker defaultValue={moment('09:00', format)} format={format} placeholder={\"\"} className={styles.form_row_input} />\n                    &nbsp; - &nbsp;\n                    <TimePicker defaultValue={moment('20:00', format)} format={format} placeholder={\"\"} className={styles.form_row_input} />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Tuesday</span>\n                    <TimePicker defaultValue={moment('09:00', format)} format={format} placeholder={\"\"} className={styles.form_row_input} />\n                    &nbsp; - &nbsp;\n                    <TimePicker defaultValue={moment('20:00', format)} format={format} placeholder={\"\"} className={styles.form_row_input} />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Wednesday</span>\n                    <TimePicker defaultValue={moment('09:00', format)} format={format} placeholder={\"\"} className={styles.form_row_input} />\n                    &nbsp; - &nbsp;\n                    <TimePicker defaultValue={moment('20:00', format)} format={format} placeholder={\"\"} className={styles.form_row_input} />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Thursday</span>\n                    <TimePicker defaultValue={moment('09:00', format)} format={format} placeholder={\"\"} className={styles.form_row_input} />\n                    &nbsp; - &nbsp;\n                    <TimePicker defaultValue={moment('20:00', format)} format={format} placeholder={\"\"} className={styles.form_row_input} />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Friday</span>\n                    <TimePicker defaultValue={moment('09:00', format)} format={format} placeholder={\"\"} className={styles.form_row_input} />\n                    &nbsp; - &nbsp;\n                    <TimePicker defaultValue={moment('20:00', format)} format={format} placeholder={\"\"} className={styles.form_row_input} />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Saturday</span>\n                    <TimePicker defaultValue={moment('09:00', format)} format={format} placeholder={\"\"} className={styles.form_row_input} />\n                    &nbsp; - &nbsp;\n                    <TimePicker defaultValue={moment('20:00', format)} format={format} placeholder={\"\"} className={styles.form_row_input} />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Sunday</span>\n                    <TimePicker defaultValue={moment('09:00', format)} format={format} placeholder={\"\"} className={styles.form_row_input} />\n                    &nbsp; - &nbsp;\n                    <TimePicker defaultValue={moment('20:00', format)} format={format} placeholder={\"\"} className={styles.form_row_input} />\n                </div>\n            </div>\n            <div className={styles.form_item}>\n                <Button type=\"primary\" onClick={submitHandler}>Submit</Button>\n            </div>\n        </>\n    );\n}\n\nconst mapStateToProps = state => {\n    return {\n        user: state.authReducer.user\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onSubmit: () => dispatch(actions.updateCurrPref())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VenueInformation);\n"]},"metadata":{},"sourceType":"module"}