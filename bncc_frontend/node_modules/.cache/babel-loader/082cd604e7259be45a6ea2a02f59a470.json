{"ast":null,"code":"import _slicedToArray from \"/Users/ns/Code/bncc_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ns/Code/bncc_frontend/src/containers/MyVenue/VenueInformation/VenueInformation.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Select, Spin, Button, Input, TimePicker } from \"antd\";\nimport { connect } from \"react-redux\";\nimport styles from \"./VenueInformation.module.css\";\nimport axios from \"../../../axios\";\nimport * as actions from \"../../../store/actions/index\";\nimport moment from \"moment\";\nimport Map from \"../../Map/Map\";\nconst format = \"HH:mm\";\nconst TextArea = Input.TextArea;\nconst Option = Select.Option;\n\nfunction VenueInformation({\n  user,\n  onSubmit,\n  google\n}) {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        fetching = _useState4[0],\n        setFetching = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        value = _useState6[0],\n        setValue = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        facilityValue = _useState8[0],\n        setFacilityValue = _useState8[1];\n\n  const _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        facilities = _useState10[0],\n        setFacility = _useState10[1];\n\n  const _useState11 = useState(''),\n        _useState12 = _slicedToArray(_useState11, 2),\n        vName = _useState12[0],\n        setVName = _useState12[1];\n\n  const _useState13 = useState(''),\n        _useState14 = _slicedToArray(_useState13, 2),\n        vDes = _useState14[0],\n        setVDes = _useState14[1];\n\n  const fetchSports = value => {\n    setFetching(true);\n    const data = {\n      name: value\n    };\n    axios.post(\"/sport/search\", data).then(res => {\n      setData(res.data.sports);\n      setFetching(false);\n    });\n  };\n\n  const fetchFacility = value => {\n    setFetching(true);\n    const data = {\n      name: value\n    };\n    axios.post(\"/facility/search\", data).then(res => {\n      setFacility(res.data.facilities);\n      setFetching(false);\n    });\n  };\n\n  useEffect(() => {\n    fetchSports(\"\");\n    fetchFacility(\"\");\n  }, []);\n\n  const submitHandler = async () => {\n    await value.forEach(async item => {\n      const data = {\n        userSportMapping: {\n          userId: user.id,\n          sportId: +item.key\n        }\n      };\n      await axios.post(\"/user/sport/mapping/upsert\", data);\n    });\n    onSubmit();\n  };\n\n  const changeHandler = value => {\n    setValue(value);\n    setData([]);\n    setFetching(false);\n  };\n\n  const changeHandlerFacility = value => {\n    setFacilityValue(value);\n    setFacility([]);\n    setFetching(false);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.form_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Venue Name\"), React.createElement(Input, {\n    className: styles.form_input,\n    value: vName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(Map, {\n    google: google,\n    center: {\n      lat: -6.2572006,\n      lng: 106.7913482\n    },\n    height: \"300px\",\n    zoom: 15,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  })), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.form_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"Venue Description\"), React.createElement(TextArea, {\n    rows: 4,\n    className: styles.form_input,\n    value: vDes,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.form_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Which Sport does the venue accomodate ?\"), React.createElement(Select, {\n    mode: \"multiple\",\n    labelInValue: true,\n    value: value,\n    placeholder: \"Select Sports\",\n    notFoundContent: fetching ? React.createElement(Spin, {\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }) : null,\n    filterOption: false,\n    onSearch: fetchSports,\n    className: styles.form_select,\n    onChange: changeHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, data.map(d => React.createElement(Option, {\n    key: d.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, d.name)))), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.form_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"What Facility does your venue offer ?\"), React.createElement(Select, {\n    mode: \"multiple\",\n    labelInValue: true,\n    value: facilityValue,\n    placeholder: \"Select Facility\",\n    notFoundContent: fetching ? React.createElement(Spin, {\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }) : null,\n    filterOption: false,\n    onSearch: fetchFacility,\n    className: styles.form_select,\n    onChange: changeHandlerFacility,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, facilities.map(d => React.createElement(Option, {\n    key: d.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, d.name)))), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.form_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, \"Set your venue opening hours\"), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, \"Monday\"), React.createElement(TimePicker, {\n    defaultValue: moment(\"09:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment(\"20:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, \"Tuesday\"), React.createElement(TimePicker, {\n    defaultValue: moment(\"09:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment(\"20:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, \"Wednesday\"), React.createElement(TimePicker, {\n    defaultValue: moment(\"09:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment(\"20:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, \"Thursday\"), React.createElement(TimePicker, {\n    defaultValue: moment(\"09:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment(\"20:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, \"Friday\"), React.createElement(TimePicker, {\n    defaultValue: moment(\"09:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment(\"20:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }, \"Saturday\"), React.createElement(TimePicker, {\n    defaultValue: moment(\"09:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment(\"20:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240\n    },\n    __self: this\n  }, \"Sunday\"), React.createElement(TimePicker, {\n    defaultValue: moment(\"09:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment(\"20:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"primary\",\n    onClick: submitHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257\n    },\n    __self: this\n  }, \"Submit\")));\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.authReducer.user\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSubmit: () => dispatch(actions.updateCurrPref())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VenueInformation);","map":{"version":3,"sources":["/Users/ns/Code/bncc_frontend/src/containers/MyVenue/VenueInformation/VenueInformation.js"],"names":["React","useState","useEffect","Select","Spin","Button","Input","TimePicker","connect","styles","axios","actions","moment","Map","format","TextArea","Option","VenueInformation","user","onSubmit","google","data","setData","fetching","setFetching","value","setValue","facilityValue","setFacilityValue","facilities","setFacility","vName","setVName","vDes","setVDes","fetchSports","name","post","then","res","sports","fetchFacility","submitHandler","forEach","item","userSportMapping","userId","id","sportId","key","changeHandler","changeHandlerFacility","form_item","form_label","form_input","lat","lng","form_select","map","d","form_row","form_row_label","form_row_input","mapStateToProps","state","authReducer","mapDispatchToProps","dispatch","updateCurrPref"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Select, Spin, Button, Input, TimePicker } from \"antd\";\nimport { connect } from \"react-redux\";\nimport styles from \"./VenueInformation.module.css\";\nimport axios from \"../../../axios\";\nimport * as actions from \"../../../store/actions/index\";\nimport moment from \"moment\";\nimport Map from \"../../Map/Map\";\n\nconst format = \"HH:mm\";\nconst { TextArea } = Input;\nconst { Option } = Select;\n\nfunction VenueInformation({ user, onSubmit, google }) {\n    const [data, setData] = useState([]);\n    const [fetching, setFetching] = useState(false);\n    const [value, setValue] = useState([]);\n    const [facilityValue, setFacilityValue] = useState([]);\n    const [facilities, setFacility] = useState([]);\n    const [vName, setVName] = useState('');\n    const [vDes, setVDes] = useState('');\n\n    const fetchSports = value => {\n        setFetching(true);\n        const data = {\n            name: value\n        };\n\n        axios.post(\"/sport/search\", data).then(res => {\n            setData(res.data.sports);\n            setFetching(false);\n        });\n    };\n\n    const fetchFacility = value => {\n        setFetching(true);\n        const data = {\n            name: value\n        };\n\n        axios.post(\"/facility/search\", data).then(res => {\n            setFacility(res.data.facilities);\n            setFetching(false);\n        });\n    };\n\n    useEffect(() => {\n        fetchSports(\"\");\n        fetchFacility(\"\");\n    }, []);\n\n    const submitHandler = async () => {\n        await value.forEach(async item => {\n            const data = {\n                userSportMapping: {\n                    userId: user.id,\n                    sportId: +item.key\n                }\n            };\n\n            await axios.post(\"/user/sport/mapping/upsert\", data);\n        });\n\n        onSubmit();\n    };\n\n    const changeHandler = value => {\n        setValue(value);\n        setData([]);\n        setFetching(false);\n    };\n\n    const changeHandlerFacility = value => {\n        setFacilityValue(value);\n        setFacility([]);\n        setFetching(false);\n    };\n\n    return (\n        <>\n            <div className={styles.form_item}>\n                <div className={styles.form_label}>Venue Name</div>\n                <Input className={styles.form_input} value={vName}/>\n            </div>\n            <div className={styles.form_item}>\n                <Map\n                    google={google}\n                    center={{ lat: -6.2572006, lng: 106.7913482 }}\n                    height=\"300px\"\n                    zoom={15}\n                />\n            </div>\n            <br />\n            <br />\n            <div className={styles.form_item}>\n                <div className={styles.form_label}>Venue Description</div>\n                <TextArea rows={4} className={styles.form_input} value={vDes}/>\n            </div>\n            <div className={styles.form_item}>\n                <div className={styles.form_label}>\n                    Which Sport does the venue accomodate ?\n                </div>\n                <Select\n                    mode=\"multiple\"\n                    labelInValue\n                    value={value}\n                    placeholder=\"Select Sports\"\n                    notFoundContent={fetching ? <Spin size=\"small\" /> : null}\n                    filterOption={false}\n                    onSearch={fetchSports}\n                    className={styles.form_select}\n                    onChange={changeHandler}\n                >\n                    {data.map(d => (\n                        <Option key={d.id}>{d.name}</Option>\n                    ))}\n                </Select>\n            </div>\n            <div className={styles.form_item}>\n                <div className={styles.form_label}>\n                    What Facility does your venue offer ?\n                </div>\n                <Select\n                    mode=\"multiple\"\n                    labelInValue\n                    value={facilityValue}\n                    placeholder=\"Select Facility\"\n                    notFoundContent={fetching ? <Spin size=\"small\" /> : null}\n                    filterOption={false}\n                    onSearch={fetchFacility}\n                    className={styles.form_select}\n                    onChange={changeHandlerFacility}\n                >\n                    {facilities.map(d => (\n                        <Option key={d.id}>{d.name}</Option>\n                    ))}\n                </Select>\n            </div>\n            <div className={styles.form_item}>\n                <div className={styles.form_label}>\n                    Set your venue opening hours\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Monday</span>\n                    <TimePicker\n                        defaultValue={moment(\"09:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                    &nbsp; - &nbsp;\n                    <TimePicker\n                        defaultValue={moment(\"20:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Tuesday</span>\n                    <TimePicker\n                        defaultValue={moment(\"09:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                    &nbsp; - &nbsp;\n                    <TimePicker\n                        defaultValue={moment(\"20:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Wednesday</span>\n                    <TimePicker\n                        defaultValue={moment(\"09:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                    &nbsp; - &nbsp;\n                    <TimePicker\n                        defaultValue={moment(\"20:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Thursday</span>\n                    <TimePicker\n                        defaultValue={moment(\"09:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                    &nbsp; - &nbsp;\n                    <TimePicker\n                        defaultValue={moment(\"20:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Friday</span>\n                    <TimePicker\n                        defaultValue={moment(\"09:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                    &nbsp; - &nbsp;\n                    <TimePicker\n                        defaultValue={moment(\"20:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Saturday</span>\n                    <TimePicker\n                        defaultValue={moment(\"09:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                    &nbsp; - &nbsp;\n                    <TimePicker\n                        defaultValue={moment(\"20:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Sunday</span>\n                    <TimePicker\n                        defaultValue={moment(\"09:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                    &nbsp; - &nbsp;\n                    <TimePicker\n                        defaultValue={moment(\"20:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                </div>\n            </div>\n            <div className={styles.form_item}>\n                <Button type=\"primary\" onClick={submitHandler}>\n                    Submit\n                </Button>\n            </div>\n        </>\n    );\n}\n\nconst mapStateToProps = state => {\n    return {\n        user: state.authReducer.user\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onSubmit: () => dispatch(actions.updateCurrPref())\n    };\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(VenueInformation);\n"]},"metadata":{},"sourceType":"module"}