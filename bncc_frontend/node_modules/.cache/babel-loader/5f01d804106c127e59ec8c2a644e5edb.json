{"ast":null,"code":"import _slicedToArray from \"/Users/ns/Code/bncc_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ns/Code/bncc_frontend/src/containers/MyVenue/VenueInformation/VenueInformation.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Select, Spin, Button, Input, TimePicker } from \"antd\";\nimport { connect } from \"react-redux\";\nimport styles from \"./VenueInformation.module.css\";\nimport axios from \"../../../axios\";\nimport * as actions from \"../../../store/actions/index\";\nimport moment from \"moment\";\nconst format = \"HH:mm\";\nconst TextArea = Input.TextArea;\nconst Option = Select.Option;\n\nfunction VenueInformation({\n  user,\n  onSubmit,\n  google\n}) {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        fetching = _useState4[0],\n        setFetching = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        value = _useState6[0],\n        setValue = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        facilityValue = _useState8[0],\n        setFacilityValue = _useState8[1];\n\n  const _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        facilities = _useState10[0],\n        setFacility = _useState10[1];\n\n  const fetchSports = value => {\n    setFetching(true);\n    const data = {\n      name: value\n    };\n    axios.post(\"/sport/search\", data).then(res => {\n      setData(res.data.sports);\n      setFetching(false);\n    });\n  };\n\n  const fetchFacility = value => {\n    setFetching(true);\n    const data = {\n      name: value\n    };\n    axios.post(\"/facility/search\", data).then(res => {\n      setFacility(res.data.facilities);\n      setFetching(false);\n    });\n  };\n\n  useEffect(() => {\n    fetchSports(\"\");\n    fetchFacility(\"\");\n  }, []);\n\n  const submitHandler = async () => {\n    await value.forEach(async item => {\n      const data = {\n        userSportMapping: {\n          userId: user.id,\n          sportId: +item.key\n        }\n      };\n      await axios.post(\"/user/sport/mapping/upsert\", data);\n    });\n    onSubmit();\n  };\n\n  const changeHandler = value => {\n    setValue(value);\n    setData([]);\n    setFetching(false);\n  };\n\n  const changeHandlerFacility = value => {\n    setFacilityValue(value);\n    setFacility([]);\n    setFetching(false);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.form_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Venue Name\"), React.createElement(Input, {\n    className: styles.form_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })), React.createElement(Map, {\n    google: google,\n    center: {\n      lat: -6.2572006,\n      lng: 106.7913482\n    },\n    height: \"300px\",\n    zoom: 15,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.form_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Venue Description\"), React.createElement(TextArea, {\n    rows: 4,\n    className: styles.form_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.form_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Which Sport does the venue accomodate ?\"), React.createElement(Select, {\n    mode: \"multiple\",\n    labelInValue: true,\n    value: value,\n    placeholder: \"Select Sports\",\n    notFoundContent: fetching ? React.createElement(Spin, {\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }) : null,\n    filterOption: false,\n    onSearch: fetchSports,\n    className: styles.form_select,\n    onChange: changeHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, data.map(d => React.createElement(Option, {\n    key: d.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, d.name)))), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.form_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"What Facility does your venue offer ?\"), React.createElement(Select, {\n    mode: \"multiple\",\n    labelInValue: true,\n    value: facilityValue,\n    placeholder: \"Select Facility\",\n    notFoundContent: fetching ? React.createElement(Spin, {\n      size: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }) : null,\n    filterOption: false,\n    onSearch: fetchFacility,\n    className: styles.form_select,\n    onChange: changeHandlerFacility,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, facilities.map(d => React.createElement(Option, {\n    key: d.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, d.name)))), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.form_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"Set your venue opening hours\"), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"Monday\"), React.createElement(TimePicker, {\n    defaultValue: moment(\"09:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment(\"20:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, \"Tuesday\"), React.createElement(TimePicker, {\n    defaultValue: moment(\"09:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment(\"20:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, \"Wednesday\"), React.createElement(TimePicker, {\n    defaultValue: moment(\"09:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment(\"20:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, \"Thursday\"), React.createElement(TimePicker, {\n    defaultValue: moment(\"09:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment(\"20:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, \"Friday\"), React.createElement(TimePicker, {\n    defaultValue: moment(\"09:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment(\"20:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }, \"Saturday\"), React.createElement(TimePicker, {\n    defaultValue: moment(\"09:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment(\"20:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: styles.form_row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: styles.form_row_label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }, \"Sunday\"), React.createElement(TimePicker, {\n    defaultValue: moment(\"09:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  }), \"\\xA0 - \\xA0\", React.createElement(TimePicker, {\n    defaultValue: moment(\"20:00\", format),\n    format: format,\n    placeholder: \"\",\n    className: styles.form_row_input,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: styles.form_item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"primary\",\n    onClick: submitHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, \"Submit\")));\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.authReducer.user\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSubmit: () => dispatch(actions.updateCurrPref())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VenueInformation);","map":{"version":3,"sources":["/Users/ns/Code/bncc_frontend/src/containers/MyVenue/VenueInformation/VenueInformation.js"],"names":["React","useState","useEffect","Select","Spin","Button","Input","TimePicker","connect","styles","axios","actions","moment","format","TextArea","Option","VenueInformation","user","onSubmit","google","data","setData","fetching","setFetching","value","setValue","facilityValue","setFacilityValue","facilities","setFacility","fetchSports","name","post","then","res","sports","fetchFacility","submitHandler","forEach","item","userSportMapping","userId","id","sportId","key","changeHandler","changeHandlerFacility","form_item","form_label","form_input","lat","lng","form_select","map","d","form_row","form_row_label","form_row_input","mapStateToProps","state","authReducer","mapDispatchToProps","dispatch","updateCurrPref"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Select, Spin, Button, Input, TimePicker } from \"antd\";\nimport { connect } from \"react-redux\";\nimport styles from \"./VenueInformation.module.css\";\nimport axios from \"../../../axios\";\nimport * as actions from \"../../../store/actions/index\";\nimport moment from \"moment\";\n\nconst format = \"HH:mm\";\nconst { TextArea } = Input;\nconst { Option } = Select;\n\nfunction VenueInformation({ user, onSubmit, google }) {\n    const [data, setData] = useState([]);\n    const [fetching, setFetching] = useState(false);\n    const [value, setValue] = useState([]);\n    const [facilityValue, setFacilityValue] = useState([]);\n    const [facilities, setFacility] = useState([]);\n\n    const fetchSports = value => {\n        setFetching(true);\n        const data = {\n            name: value\n        };\n\n        axios.post(\"/sport/search\", data).then(res => {\n            setData(res.data.sports);\n            setFetching(false);\n        });\n    };\n\n    const fetchFacility = value => {\n        setFetching(true);\n        const data = {\n            name: value\n        };\n\n        axios.post(\"/facility/search\", data).then(res => {\n            setFacility(res.data.facilities);\n            setFetching(false);\n        });\n    };\n\n    useEffect(() => {\n        fetchSports(\"\");\n        fetchFacility(\"\");\n    }, []);\n\n    const submitHandler = async () => {\n        await value.forEach(async item => {\n            const data = {\n                userSportMapping: {\n                    userId: user.id,\n                    sportId: +item.key\n                }\n            };\n\n            await axios.post(\"/user/sport/mapping/upsert\", data);\n        });\n\n        onSubmit();\n    };\n\n    const changeHandler = value => {\n        setValue(value);\n        setData([]);\n        setFetching(false);\n    };\n\n    const changeHandlerFacility = value => {\n        setFacilityValue(value);\n        setFacility([]);\n        setFetching(false);\n    };\n\n    return (\n        <>\n            <div className={styles.form_item}>\n                <div className={styles.form_label}>Venue Name</div>\n                <Input className={styles.form_input} />\n            </div>\n            <Map\n                google={google}\n                center={{ lat: -6.2572006, lng: 106.7913482 }}\n                height=\"300px\"\n                zoom={15}\n            />\n            <div className={styles.form_item}>\n                <div className={styles.form_label}>Venue Description</div>\n                <TextArea rows={4} className={styles.form_input} />\n            </div>\n            <div className={styles.form_item}>\n                <div className={styles.form_label}>\n                    Which Sport does the venue accomodate ?\n                </div>\n                <Select\n                    mode=\"multiple\"\n                    labelInValue\n                    value={value}\n                    placeholder=\"Select Sports\"\n                    notFoundContent={fetching ? <Spin size=\"small\" /> : null}\n                    filterOption={false}\n                    onSearch={fetchSports}\n                    className={styles.form_select}\n                    onChange={changeHandler}\n                >\n                    {data.map(d => (\n                        <Option key={d.id}>{d.name}</Option>\n                    ))}\n                </Select>\n            </div>\n            <div className={styles.form_item}>\n                <div className={styles.form_label}>\n                    What Facility does your venue offer ?\n                </div>\n                <Select\n                    mode=\"multiple\"\n                    labelInValue\n                    value={facilityValue}\n                    placeholder=\"Select Facility\"\n                    notFoundContent={fetching ? <Spin size=\"small\" /> : null}\n                    filterOption={false}\n                    onSearch={fetchFacility}\n                    className={styles.form_select}\n                    onChange={changeHandlerFacility}\n                >\n                    {facilities.map(d => (\n                        <Option key={d.id}>{d.name}</Option>\n                    ))}\n                </Select>\n            </div>\n            <div className={styles.form_item}>\n                <div className={styles.form_label}>\n                    Set your venue opening hours\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Monday</span>\n                    <TimePicker\n                        defaultValue={moment(\"09:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                    &nbsp; - &nbsp;\n                    <TimePicker\n                        defaultValue={moment(\"20:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Tuesday</span>\n                    <TimePicker\n                        defaultValue={moment(\"09:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                    &nbsp; - &nbsp;\n                    <TimePicker\n                        defaultValue={moment(\"20:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Wednesday</span>\n                    <TimePicker\n                        defaultValue={moment(\"09:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                    &nbsp; - &nbsp;\n                    <TimePicker\n                        defaultValue={moment(\"20:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Thursday</span>\n                    <TimePicker\n                        defaultValue={moment(\"09:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                    &nbsp; - &nbsp;\n                    <TimePicker\n                        defaultValue={moment(\"20:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Friday</span>\n                    <TimePicker\n                        defaultValue={moment(\"09:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                    &nbsp; - &nbsp;\n                    <TimePicker\n                        defaultValue={moment(\"20:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Saturday</span>\n                    <TimePicker\n                        defaultValue={moment(\"09:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                    &nbsp; - &nbsp;\n                    <TimePicker\n                        defaultValue={moment(\"20:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                </div>\n                <div className={styles.form_row}>\n                    <span className={styles.form_row_label}>Sunday</span>\n                    <TimePicker\n                        defaultValue={moment(\"09:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                    &nbsp; - &nbsp;\n                    <TimePicker\n                        defaultValue={moment(\"20:00\", format)}\n                        format={format}\n                        placeholder={\"\"}\n                        className={styles.form_row_input}\n                    />\n                </div>\n            </div>\n            <div className={styles.form_item}>\n                <Button type=\"primary\" onClick={submitHandler}>\n                    Submit\n                </Button>\n            </div>\n        </>\n    );\n}\n\nconst mapStateToProps = state => {\n    return {\n        user: state.authReducer.user\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onSubmit: () => dispatch(actions.updateCurrPref())\n    };\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(VenueInformation);\n"]},"metadata":{},"sourceType":"module"}