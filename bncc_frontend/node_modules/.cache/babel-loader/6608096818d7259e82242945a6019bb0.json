{"ast":null,"code":"import { put } from 'redux-saga/effects';\nimport axios from '../../axios';\nimport * as actions from '../actions/index';\nexport function* loginSaga(action) {\n  try {\n    const data = {\n      email: action.email,\n      password: action.password\n    };\n    const res = yield axios.post('/user/login', data);\n    console.log(res);\n\n    if (res.data.success) {\n      yield localStorage.setItem('user_email', res.data.user.email);\n      yield put(actions.loginSuccess(res.data.user));\n    } else {\n      yield put(actions.loginFail(res.data.message));\n    }\n  } catch (err) {}\n}","map":{"version":3,"sources":["/Users/ns/Code/bncc_frontend/src/store/sagas/auth.js"],"names":["put","axios","actions","loginSaga","action","data","email","password","res","post","console","log","success","localStorage","setItem","user","loginSuccess","loginFail","message","err"],"mappings":"AAAA,SAASA,GAAT,QAAoB,oBAApB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAO,KAAKC,OAAZ,MAAyB,kBAAzB;AAEA,OAAO,UAAUC,SAAV,CAAoBC,MAApB,EAA4B;AAC/B,MAAI;AACA,UAAMC,IAAI,GAAG;AACTC,MAAAA,KAAK,EAAEF,MAAM,CAACE,KADL;AAETC,MAAAA,QAAQ,EAAEH,MAAM,CAACG;AAFR,KAAb;AAKA,UAAMC,GAAG,GAAG,MAAMP,KAAK,CAACQ,IAAN,CAAW,aAAX,EAA0BJ,IAA1B,CAAlB;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;;AACA,QAAIA,GAAG,CAACH,IAAJ,CAASO,OAAb,EAAsB;AAClB,YAAMC,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCN,GAAG,CAACH,IAAJ,CAASU,IAAT,CAAcT,KAAjD,CAAN;AACA,YAAMN,GAAG,CAACE,OAAO,CAACc,YAAR,CAAqBR,GAAG,CAACH,IAAJ,CAASU,IAA9B,CAAD,CAAT;AACH,KAHD,MAIK;AACD,YAAMf,GAAG,CAACE,OAAO,CAACe,SAAR,CAAkBT,GAAG,CAACH,IAAJ,CAASa,OAA3B,CAAD,CAAT;AACH;AACJ,GAfD,CAgBA,OAAMC,GAAN,EAAW,CAEV;AACJ","sourcesContent":["import { put } from 'redux-saga/effects';\nimport axios from '../../axios';\nimport * as actions from '../actions/index';\n\nexport function* loginSaga(action) {\n    try {\n        const data = {\n            email: action.email,\n            password: action.password\n        }\n        \n        const res = yield axios.post('/user/login', data);\n        console.log(res);\n        if (res.data.success) {\n            yield localStorage.setItem('user_email', res.data.user.email);\n            yield put(actions.loginSuccess(res.data.user));\n        }\n        else {\n            yield put(actions.loginFail(res.data.message));\n        }\n    }\n    catch(err) {\n\n    }\n}"]},"metadata":{},"sourceType":"module"}